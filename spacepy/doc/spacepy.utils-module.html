<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>spacepy.utils</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="spacepy-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >SpacePy: Space Science Tools for Python</th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="spacepy-module.html">Package&nbsp;spacepy</a> ::
        Module&nbsp;utils
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="spacepy.utils-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module utils</h1><p class="nomargin-top"></p>
<p>Set of generic utilities.</p>
  <p>--++-- By Steve Morley --++--</p>
  <p>smorley@lanl.gov/morley_steve@hotmail.com, Los Alamos National 
  Laboratory, ISR-1, PO Box 1663, Los Alamos, NM 87545</p>

<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="spacepy.utils-module.html#MoldwinPP" class="summary-sig-name">MoldwinPP</a>(<span class="summary-sig-arg">Kp</span>)</span><br />
      Calculates the Moldwin et al.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="spacepy.utils-module.html#ShueMP" class="summary-sig-name">ShueMP</a>(<span class="summary-sig-arg">P</span>,
        <span class="summary-sig-arg">Bz</span>)</span><br />
      Calculates the Shue et al.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="binHisto"></a><span class="summary-sig-name">binHisto</span>(<span class="summary-sig-arg">data</span>)</span><br />
      Calculates bin width and number of bins for histogram using 
      Freedman-Diaconis rule</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="dm_ll"></a><span class="summary-sig-name">dm_ll</span>(<span class="summary-sig-arg">kp</span>=<span class="summary-sig-default">2.7</span>,
        <span class="summary-sig-arg">l</span>=<span class="summary-sig-default">6.6</span>)</span><br />
      Magnetic field diffusion coefficient from Brautigam and Albert</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="spacepy.utils-module.html#doy2md" class="summary-sig-name">doy2md</a>(<span class="summary-sig-arg">year</span>,
        <span class="summary-sig-arg">doy</span>)</span><br />
      Convert day-of-year to month and day</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="spacepy.utils-module.html#makePoly" class="summary-sig-name">makePoly</a>(<span class="summary-sig-arg">x</span>,
        <span class="summary-sig-arg">y1</span>,
        <span class="summary-sig-arg">y2</span>,
        <span class="summary-sig-arg">face</span>=<span class="summary-sig-default"><code class="variable-quote">'</code><code class="variable-string">blue</code><code class="variable-quote">'</code></span>,
        <span class="summary-sig-arg">alpha</span>=<span class="summary-sig-default">0.5</span>)</span><br />
      Make filled polygon for plotting</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="spacepy.utils-module.html#medabsdev" class="summary-sig-name">medabsdev</a>(<span class="summary-sig-arg">series</span>)</span><br />
      Calculate median absolute deviation of a given input series</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="spacepy.utils-module.html#mu_ai" class="summary-sig-name">mu_ai</a>(<span class="summary-sig-arg">energy</span>,
        <span class="summary-sig-arg">b</span>=<span class="summary-sig-default">1e-07</span>,
        <span class="summary-sig-arg">rme</span>=<span class="summary-sig-default">0.511</span>)</span><br />
      Calculate 1st adiabatic invariant given energy in [MeV/G]</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="spacepy.utils-module.html#readOMNI" class="summary-sig-name">readOMNI</a>(<span class="summary-sig-arg">fname</span>)</span><br />
      Read amalgamated OMNI2 file into dictionary of data arrays</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="spacepy.utils-module.html#readOMNIhi" class="summary-sig-name">readOMNIhi</a>(<span class="summary-sig-arg">fname</span>)</span><br />
      Read high-resOMNI file into dictionary of data arrays</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="spacepy.utils-module.html#t_common" class="summary-sig-name">t_common</a>(<span class="summary-sig-arg">ts1</span>,
        <span class="summary-sig-arg">ts2</span>,
        <span class="summary-sig-arg">mask_only</span>=<span class="summary-sig-default">True</span>)</span><br />
      Finds the elements in a list of datetime objects present in another</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="spacepy.utils-module.html#t_overlap" class="summary-sig-name">t_overlap</a>(<span class="summary-sig-arg">ts1</span>,
        <span class="summary-sig-arg">ts2</span>)</span><br />
      Finds the overlapping elements in two lists of datetime objects</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="spacepy.utils-module.html#windowmean" class="summary-sig-name">windowmean</a>(<span class="summary-sig-arg">data</span>,
        <span class="summary-sig-arg">time</span>=<span class="summary-sig-default"><code class="variable-group">[</code><code class="variable-group">]</code></span>,
        <span class="summary-sig-arg">winsize</span>=<span class="summary-sig-default">0</span>,
        <span class="summary-sig-arg">overlap</span>=<span class="summary-sig-default">0</span>,
        <span class="summary-sig-arg">pts</span>=<span class="summary-sig-default">True</span>)</span><br />
      Windowing mean function, window overlap is user defined</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="__package__"></a><span class="summary-name">__package__</span> = <code title="'spacepy'"><code class="variable-quote">'</code><code class="variable-string">spacepy</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="MoldwinPP"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">MoldwinPP</span>(<span class="sig-arg">Kp</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Calculates the Moldwin et al. (2002) subsolar magnetopause radius</p>
  <p>Inputs: Kp index (uses max Kp from prev 12 hrs) Output: Plasmapause 
  radius [Re]</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="ShueMP"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ShueMP</span>(<span class="sig-arg">P</span>,
        <span class="sig-arg">Bz</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Calculates the Shue et al. (1997) subsolar magnetopause radius</p>
  <p>Ported from Drew Turner's (LASP) MatLab script</p>
  <h1 class="heading">Inputs:</h1>
    <p>SW ram pressure [nPa], IMF Bz (GSM) [nT]</p>
  <h1 class="heading">Output:</h1>
    <p>Magnetopause (sub-solar point) standoff distance [Re]</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="doy2md"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">doy2md</span>(<span class="sig-arg">year</span>,
        <span class="sig-arg">doy</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Convert day-of-year to month and day</p>
  <h1 class="heading">Inputs:</h1>
    <p>Year, Day of year (Jan 1 = 001)</p>
  <h1 class="heading">Returns:</h1>
    <p>Month, Day (e.g. Oct 11 = 10, 11)</p>
    <p>Note: Implements full and correct leap year rules.</p>
    <p>Modification history: Created by Steve Morley (in July '05), 
    rewritten for Python in October 2009</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="makePoly"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">makePoly</span>(<span class="sig-arg">x</span>,
        <span class="sig-arg">y1</span>,
        <span class="sig-arg">y2</span>,
        <span class="sig-arg">face</span>=<span class="sig-default"><code class="variable-quote">'</code><code class="variable-string">blue</code><code class="variable-quote">'</code></span>,
        <span class="sig-arg">alpha</span>=<span class="sig-default">0.5</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Make filled polygon for plotting</p>
  <p>Can be replaced by built-in matplotlib function fill_between</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>poly0c = makePoly(x, ci_low, ci_high, face=<span class="py-string">'red'</span>, alpha=0.8)
<span class="py-prompt">&gt;&gt;&gt; </span>ax0.add_patch(poly0qc)</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="medabsdev"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">medabsdev</span>(<span class="sig-arg">series</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Calculate median absolute deviation of a given input series</p>
  <p>Median absolute deviation (MAD) is a robust and resistant measure of 
  the spread of a sample (same purpose as standard deviation). The MAD is 
  preferred to the interquartile range as the interquartile range only 
  shows 50% of the data whereas the MAD uses all data but remains robust 
  and resistant. See e.g. Wilks, Statistical methods for the Atmospheric 
  Sciences, 1995, Ch. 3.</p>
  <p>This implementation is robust to presence of NaNs</p>
  <p>Example: Find the median absolute deviation of a data set. Here we use
  the log- normal distribution fitted to the population of sawtooth 
  intervals, see Morley and Henderson, Comment, Geophysical Research 
  Letters, 2009.</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>data = numpy.random.lognormal(mean=5.1458, sigma=0.302313, size=30)
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">print</span> data
<span class="py-output">array([ 181.28078923,  131.18152745, ... , 141.15455416, 160.88972791])</span>
<span class="py-output"></span><span class="py-prompt">&gt;&gt;&gt; </span>utils.medabsdev(data)
<span class="py-output">28.346646721370192</span></pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="mu_ai"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">mu_ai</span>(<span class="sig-arg">energy</span>,
        <span class="sig-arg">b</span>=<span class="sig-default">1e-07</span>,
        <span class="sig-arg">rme</span>=<span class="sig-default">0.511</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Calculate 1st adiabatic invariant given energy in [MeV/G]</p>
  <p>Input: energy (req'd) in MeV</p>
  <p>Uses E = Ek + E0, E = sqrt(p^2c^2 + E0^2); Then uses mu = p^2/2mB to 
  arrive at mu = (p^2c^2)/(2*E0*B)</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="readOMNI"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">readOMNI</span>(<span class="sig-arg">fname</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Read amalgamated OMNI2 file into dictionary of data arrays</p>
  <p>Input: filename (str)</p>
  <p>Output: dictionary with datetime objects and data arrays</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="readOMNIhi"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">readOMNIhi</span>(<span class="sig-arg">fname</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Read high-resOMNI file into dictionary of data arrays</p>
  <p>Input: filename (str)</p>
  <p>Output: dictionary with datetime objects and data arrays</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="t_common"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">t_common</span>(<span class="sig-arg">ts1</span>,
        <span class="sig-arg">ts2</span>,
        <span class="sig-arg">mask_only</span>=<span class="sig-default">True</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Finds the elements in a list of datetime objects present in 
  another</p>
  <h1 class="heading">Returns:</h1>
    <ul>
      <li>
        Two element tuple of truth tables (of 1 present in 2, &amp; vice 
        versa)
      </li>
    </ul>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="t_overlap"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">t_overlap</span>(<span class="sig-arg">ts1</span>,
        <span class="sig-arg">ts2</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Finds the overlapping elements in two lists of datetime objects</p>
  <h1 class="heading">Returns:</h1>
    <ul>
      <li>
        indices of 1 within interval of 2, &amp; vice versa
      </li>
    </ul>
  <h1 class="heading">Example:</h1>
    <ul>
      <li>
        Given two series of datetime objects, event_dates and omni['Time']:
      </li>
    </ul>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">import</span> spacepy.utils <span class="py-keyword">as</span> utils
<span class="py-prompt">&gt;&gt;&gt; </span>[einds,oinds] = utils.t_overlap(event_dates, omni[<span class="py-string">'Time'</span>])
<span class="py-prompt">&gt;&gt;&gt; </span>omni_time = omni[<span class="py-string">'Time'</span>][oinds[0]:oinds[-1]+1]
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">print</span> omni_time
<span class="py-output">[datetime.datetime(2007, 5, 5, 17, 57, 30), datetime.datetime(2007, 5, 5, 18, 2, 30),</span>
<span class="py-output">... , datetime.datetime(2007, 5, 10, 4, 57, 30)]</span></pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="windowmean"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">windowmean</span>(<span class="sig-arg">data</span>,
        <span class="sig-arg">time</span>=<span class="sig-default"><code class="variable-group">[</code><code class="variable-group">]</code></span>,
        <span class="sig-arg">winsize</span>=<span class="sig-default">0</span>,
        <span class="sig-arg">overlap</span>=<span class="sig-default">0</span>,
        <span class="sig-arg">pts</span>=<span class="sig-default">True</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </tr></table>
  
  <p>Windowing mean function, window overlap is user defined</p>
  <p>Inputs: data - 1D series of points; time - series of timestamps, 
  optional (format as numeric or datetime); For non-overlapping windows set
  overlap to zero. e.g.,</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>wsize, olap = datetime.timedelta(1), datetime.timedelta(0,3600)</pre>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>outtime, outdata = windowmean(data, time, winsize=wsize, overlap=olap)</pre>
  <p>where the time, winsize and overlap are either numberic or datetime 
  objects, in this example the window size is 1 day and the overlap is 1 
  hour.</p>
  <p>Caveats: This is a quick and dirty function - it is NOT optimised, at 
  all.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="spacepy-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >SpacePy: Space Science Tools for Python</th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Thu May 27 15:56:04 2010
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
